<mat-tab-group
  [(selectedIndex)]="selectedTabIndex"
  (selectedTabChange)="onTabChange($event)"
>
  <mat-tab>
    <ng-template mat-tab-label>
      <i class="fas fa-user-cog tab-icon"></i>
      {{ 'SETTINGS.ENV_PASSWORD' | translate }}
    </ng-template>
    <ng-template matTabContent>
      <!-- Language Switcher Section -->
      <div class="lang-switcher-card">
        <label><i class="fas fa-globe"></i> {{ 'SETTINGS.LANGUAGE' | translate }}</label>
        <div class="lang-buttons">
          <button [class.active]="currentLang === 'zh'" (click)="changeLanguage('zh')">{{ 'SETTINGS.CHINESE' | translate }}</button>
          <button [class.active]="currentLang === 'en'" (click)="changeLanguage('en')">{{ 'SETTINGS.ENGLISH' | translate }}</button>
        </div>
      </div>

      <app-environment-variable></app-environment-variable>
      <app-change-password></app-change-password>
    </ng-template>
  </mat-tab>
  <mat-tab>
    <ng-template mat-tab-label>
      <i class="fas fa-tasks tab-icon"></i>
      {{ 'SETTINGS.BACKGROUND_TASKS' | translate }}
    </ng-template>
    <ng-template matTabContent>
      <app-background-tasks></app-background-tasks>
    </ng-template>
  </mat-tab>
</mat-tab-group>
